{"version":3,"sources":["App.jsx","reportWebVitals.js","theme.js","index.jsx"],"names":["App","className","useState","fileKey","setFileKey","base64File","setBase64File","loadFile","file","a","console","log","Promise","resolve","reject","reader","global","FileReader","readAsDataURL","onload","result","onerror","error","handleSelectedFile","e","target","files","loadedFile","variant","noValidate","autoComplete","disabled","Boolean","label","onChange","value","StyledSpan","inputProps","accept","type","color","onClick","url","window","location","pathname","split","formData","FormData","append","fetch","method","body","then","defaultProps","styled","span","props","theme","palette","gray","StyledApp","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","createMuiTheme","primary","light","main","dark","contrastText","secondary","overrides","MuiTypography","body1","fontSize","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"4QAYA,SAASA,EAAT,GAA6B,IAAdC,EAAa,EAAbA,UAAa,EACIC,mBAAS,IADb,mBACnBC,EADmB,KACVC,EADU,OAEUF,qBAFV,mBAEnBG,EAFmB,KAEPC,EAFO,KAuBpBC,EAAQ,uCAAG,WAAOC,GAAP,SAAAC,EAAA,6DACfC,QAAQC,IAAIH,GADG,kBAER,IAAII,SAAQ,SAACC,EAASC,GACtBN,GAAMK,EAAQ,MACnB,IAAME,EAAS,IAAIC,EAAOC,WAC1BF,EAAOG,cAAcV,GACrBO,EAAOI,OAAS,kBAAMN,EAAQE,EAAOK,SACrCL,EAAOM,QAAU,SAACC,GAAD,OAAWR,EAAOQ,QAPtB,2CAAH,sDAWRC,EAAkB,uCAAG,WAAOC,GAAP,iBAAAf,EAAA,6DACnBD,EAAOgB,EAAEC,OAAOC,MAAM,GADH,kBAGEnB,EAASC,GAHX,OAGjBmB,EAHiB,OAIvBrB,EAAcqB,GAJS,gDAMvBrB,EAAc,MANS,yDAAH,sDAWxB,OADAI,QAAQC,IAAIN,GAEV,qBAAKJ,UAAU,MAAf,SACE,yBAAQA,UAAU,aAAlB,UACE,cAAC,IAAD,CAAY2B,QAAQ,KAApB,mCACA,cAAC,IAAD,iEAGA,uBAAM3B,UAAS,UAAKA,EAAL,SAAuB4B,YAAU,EAACC,aAAa,MAA9D,UACE,cAAC,IAAD,CACEC,SAAUC,QAAQ3B,GAClBJ,UAAS,UAAKA,EAAL,kBACTgC,MAAM,WACNC,SAAU,SAACV,GACTpB,EAAWoB,EAAEC,OAAOU,QAEtBP,QAAQ,WAGV,cAACQ,EAAD,uBAEA,cAAC,IAAD,CACEC,WAAY,CAAEC,OAAQ,OACtBP,SAAUC,QAAQ7B,GAClBF,UAAS,UAAKA,EAAL,kBACTsC,KAAK,OACLL,SAAUX,IAGZ,cAAC,IAAD,CAAQiB,MAAM,UAAUC,QArEX,WAEnB,IAAMC,EAAG,UAAMC,OAAOC,SAASC,SAASC,MAAM,QAAQ,GAA7C,WACHC,EAAW,IAAI/B,EAAOgC,SAE5B,GAAI7C,EACF4C,EAASE,OAAO,UAAW9C,OACtB,KAAIE,EAGT,OAFA0C,EAASE,OAAO,WAAY5C,EAAWyC,MAAM,KAAK,IAMpDpC,QAAQC,IAAIN,GAEZW,EAAOkC,MAAMR,EAAK,CAAES,OAAQ,OAAQC,KAAML,IAAYM,MAAK,gBAqDNzB,QAAQ,YAAvD,4BAaV5B,EAAIsD,aAAe,CACjBrD,UAAW,IAGb,IAAMmC,EAAamB,IAAOC,KAAV,kEACL,SAACC,GAAD,OAAWA,EAAMC,MAAMC,QAAQC,QAIpCC,EAAYN,YAAOvD,EAAPuD,CAAH,mOAgBAM,Q,wKC/GAC,EAZS,SAACC,GACnBA,GAAeA,aAAuBC,UACxC,8BAAqBX,MAAK,YAAkD,IAA/CY,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,O,SCLCO,cAAe,CAC5BX,QAAS,CACPY,QAAS,CACPC,MAAO,UACPC,KAAM,UACNC,KAAM,UACNC,aAAc,QAEhBC,UAAW,CACTJ,MAAO,UACPC,KAAM,UACNC,KAAM,UACNC,aAAc,QAEhBf,KAAM,WAERiB,UAAW,CACTC,cAAe,CACbC,MAAO,CACLC,SAAU,gB,QCVlBC,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,IAAD,CAAkBzB,MAAOA,EAAzB,SACE,cAAC,IAAD,CAAeA,MAAOA,EAAtB,SACE,cAAC1D,EAAA,EAAD,UAINoF,SAASC,eAAe,SAM1BvB,M","file":"static/js/main.01e5a279.chunk.js","sourcesContent":["import React, { useState } from 'react';\n\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\n\nimport Button from '@material-ui/core/Button';\nimport Input from '@material-ui/core/Input';\nimport TextField from '@material-ui/core/TextField';\nimport Typography from '@material-ui/core/Typography';\n\nimport './App.css';\n\nfunction App({ className }) {\n  const [fileKey, setFileKey] = useState('');\n  const [base64File, setBase64File] = useState();\n\n  const handleSubmit = () => {\n    // '/ui/' is the route of the Opyrator extension webapp\n    const url = `${window.location.pathname.split('/ui/')[0]}/deploy`;\n    const formData = new global.FormData();\n\n    if (fileKey) {\n      formData.append('filekey', fileKey);\n    } else if (base64File) {\n      formData.append('filedata', base64File.split(',')[1]);\n    } else {\n      return;\n    }\n\n    // TODO: handle base64 file\n    console.log(base64File);\n\n    global.fetch(url, { method: 'POST', body: formData }).then(() => {});\n  };\n\n  const loadFile = async (file) => {\n    console.log(file);\n    return new Promise((resolve, reject) => {\n      if (!file) resolve(null);\n      const reader = new global.FileReader();\n      reader.readAsDataURL(file);\n      reader.onload = () => resolve(reader.result);\n      reader.onerror = (error) => reject(error);\n    });\n  };\n\n  const handleSelectedFile = async (e) => {\n    const file = e.target.files[0];\n    try {\n      const loadedFile = await loadFile(file);\n      setBase64File(loadedFile);\n    } catch (err) {\n      setBase64File(null);\n    }\n  };\n\n  console.log(base64File);\n  return (\n    <div className=\"App\">\n      <header className=\"App-header\">\n        <Typography variant=\"h1\">Deploy your Opyrator!</Typography>\n        <Typography>\n          Upload an Opyrator file and deploy it via Contaxy!\n        </Typography>\n        <form className={`${className} form`} noValidate autoComplete=\"off\">\n          <TextField\n            disabled={Boolean(base64File)}\n            className={`${className} formTextField`}\n            label=\"File key\"\n            onChange={(e) => {\n              setFileKey(e.target.value);\n            }}\n            variant=\"filled\"\n          />\n\n          <StyledSpan>-- or --</StyledSpan>\n\n          <Input\n            inputProps={{ accept: '.py' }}\n            disabled={Boolean(fileKey)}\n            className={`${className} formFileInput`}\n            type=\"file\"\n            onChange={handleSelectedFile}\n          />\n\n          <Button color=\"primary\" onClick={handleSubmit} variant=\"contained\">\n            Submit\n          </Button>\n        </form>\n      </header>\n    </div>\n  );\n}\n\nApp.propTypes = {\n  className: PropTypes.string,\n};\n\nApp.defaultProps = {\n  className: '',\n};\n\nconst StyledSpan = styled.span`\n  color: ${(props) => props.theme.palette.gray};\n  font-size: 0.75rem;\n`;\n\nconst StyledApp = styled(App)`\n  &.form {\n    display: flex;\n    flex-direction: column;\n  }\n\n  &.formFileInput {\n    margin-bottom: 8px;\n  }\n\n  &.formTextField {\n    /* display: block; */\n    margin-bottom: 8px;\n  }\n`;\n\nexport default StyledApp;\n","const reportWebVitals = (onPerfEntry) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import { unstable_createMuiStrictModeTheme as createMuiTheme } from '@material-ui/core/styles';\n\nexport default createMuiTheme({\n  palette: {\n    primary: {\n      light: '#6573c3',\n      main: '#3f51b5',\n      dark: '#2c387e',\n      contrastText: '#fff',\n    },\n    secondary: {\n      light: '#5393ff',\n      main: '#2979ff',\n      dark: '#1c54b2',\n      contrastText: '#000',\n    },\n    gray: '#646464',\n  },\n  overrides: {\n    MuiTypography: {\n      body1: {\n        fontSize: '0.875rem',\n      },\n    },\n  },\n});\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport { ThemeProvider as MuiThemeProvider } from '@material-ui/core/styles';\nimport { ThemeProvider } from 'styled-components';\n\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport theme from './theme';\n\nReactDOM.render(\n  <React.StrictMode>\n    <MuiThemeProvider theme={theme}>\n      <ThemeProvider theme={theme}>\n        <App />\n      </ThemeProvider>\n    </MuiThemeProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}